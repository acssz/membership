spring:
  application:
    name: membership
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://postgres:5432/membership}
    username: ${SPRING_DATASOURCE_USERNAME:membership}
    password: ${SPRING_DATASOURCE_PASSWORD:membership}
  jpa:
    hibernate:
      ddl-auto: update
    open-in-view: false
    properties:
      hibernate:
        format_sql: true
  messages:
    basename: i18n/messages
  thymeleaf:
    cache: false
  security:
    oauth2:
      client:
        registration:
          authentik:
            provider: authentik
            client-id: ${AUTHENTIK_CLIENT_ID}
            client-secret: ${AUTHENTIK_CLIENT_SECRET}
            scope:
              - openid
              - profile
              - email
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
        provider:
          authentik:
            issuer-uri: ${AUTHENTIK_ISSUER}

app:
  qr:
    token-ttl-seconds: 30
  pwa:
    start-url: /
  verification:
    student-validity: 365d
  storage:
    student-id:
      enabled: ${STUDENT_ID_STORAGE_ENABLED:false}
      bucket: ${STUDENT_ID_STORAGE_BUCKET:acssz-membership}
      endpoint: ${STUDENT_ID_STORAGE_ENDPOINT:https://storage.googleapis.com}
      region: ${STUDENT_ID_STORAGE_REGION:auto}
      access-key: ${STUDENT_ID_STORAGE_ACCESS_KEY:}
      secret-key: ${STUDENT_ID_STORAGE_SECRET_KEY:}
      key-prefix: ${STUDENT_ID_STORAGE_PREFIX:student-id}
